{"version":3,"file":"article-body-editor-d0593cbc.js","sources":["../../../common/resources/client/article-editor/article-body-editor.tsx"],"sourcesContent":["import {Editor, EditorContent, useEditor} from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport {Underline} from '@tiptap/extension-underline';\nimport {Link as LinkExtension} from '@tiptap/extension-link';\nimport Image from '@tiptap/extension-image';\nimport {ReactElement, useEffect} from 'react';\nimport {Superscript} from '@tiptap/extension-superscript';\nimport {Subscript} from '@tiptap/extension-subscript';\nimport {Color} from '@tiptap/extension-color';\nimport {TextStyle} from '@tiptap/extension-text-style';\nimport {TextAlign} from '@tiptap/extension-text-align';\nimport {CodeBlockLowlight} from '@tiptap/extension-code-block-lowlight';\nimport {BackgroundColor} from '@common/text-editor/extensions/background-color';\nimport {Indent} from '@common/text-editor/extensions/indent';\nimport {Embed} from '@common/text-editor/extensions/embed';\nimport {lowlight} from '../text-editor/lowlight';\nimport {InfoBlock} from '@common/text-editor/extensions/info-block';\n\ninterface Props {\n  initialContent?: string;\n  children: (content: ReactElement, editor: Editor) => JSX.Element;\n}\nexport default function ArticleBodyEditor({\n  initialContent = '',\n  children,\n}: Props) {\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        codeBlock: false,\n      }),\n      Underline,\n      LinkExtension,\n      Image,\n      Superscript,\n      Subscript,\n      TextStyle,\n      Color,\n      BackgroundColor,\n      Indent,\n      CodeBlockLowlight.configure({\n        lowlight,\n      }),\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      InfoBlock,\n      Embed,\n    ],\n    onFocus: () => {},\n    content: initialContent,\n  });\n\n  // destroy editor\n  useEffect(() => {\n    if (editor) {\n      return () => editor.destroy();\n    }\n  }, [editor]);\n\n  if (!editor) {\n    return null;\n  }\n\n  return children(<EditorContent editor={editor} />, editor);\n}\n"],"names":["ArticleBodyEditor","initialContent","children","editor","useEditor","StarterKit","Underline","LinkExtension","Image","Superscript","Subscript","TextStyle","Color","BackgroundColor","Indent","CodeBlockLowlight","lowlight","TextAlign","InfoBlock","Embed","useEffect","jsx","EditorContent"],"mappings":"2VAsBA,SAAwBA,EAAkB,CACxC,eAAAC,EAAiB,GACjB,SAAAC,CACF,EAAU,CACR,MAAMC,EAASC,EAAU,CACvB,WAAY,CACVC,EAAW,UAAU,CACnB,UAAW,EAAA,CACZ,EACDC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAkB,UAAU,CAC1B,SAAAC,CAAA,CACD,EACDC,EAAU,UAAU,CAClB,MAAO,CAAC,UAAW,WAAW,CAAA,CAC/B,EACDC,EACAC,CACF,EACA,QAAS,IAAM,CAAC,EAChB,QAASlB,CAAA,CACV,EASD,OANAmB,EAAAA,UAAU,IAAM,CACd,GAAIjB,EACK,MAAA,IAAMA,EAAO,SACtB,EACC,CAACA,CAAM,CAAC,EAENA,EAIED,EAASmB,EAAAA,IAACC,EAAc,CAAA,OAAAnB,CAAgB,CAAA,EAAIA,CAAM,EAHhD,IAIX"}